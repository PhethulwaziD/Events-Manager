<!DOCTYPE html>
<html>
<head>
	<title>Admin</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="/styles/admin/stylesheet.css">
	<link rel="stylesheet" type="text/css" href="/styles/events/stylesheet.css">
	<link rel="icon" href="/images/icon/011logo.png">
<body>
	<div class="body-wrapper">
		<header class="side-bar">
			<label class="logo">
				<img src="/images/icon/011logo.png">
			</label>
			<label class="system-name">
					Event Management System
				</label>
			<ul>
				<li ><a href="/011entertainment/dashboard">Dashboard</a></li>
				<li><a class="active" href="/011entertainment/events">Events</a></li>
				<li><a href="/011entertainment/users">Users</a></li>
				<li><a href="/011entertainment/calendar">Calendar</a></li>
				<li><a href="/011entertainment/settings">Settings</a></li>
			</ul>
		</header>
		<div class="main-container">
			<div class="top-bar">
				<label class="system-name">
					Event Management System
				</label>
				<ul>
					<li>
						<span class="reg-btn">
							Create New 	Event
						</span>
					</li>
					<li class="icon">
						<div class="menu">
							+
						</div>
					</li>
				</ul>	
			</div>
			<div class="main-content">
				<p class="page-name">Events</p>
				<div class="dashboard-container">
					<div class="upcoming-container">
						<div class="upcoming-images">
					<%for ( let i = 0; i  < result.length; i++) { %>
						<div class="event-container">
							<div class="img-wrapper" style="background-image: url('/uploads/<%=result[i].display%>');">
								<span class="more-details">i</span>
								<div class="description">
									<div class="desc-content">
										<div class="name"><%=result[i].title%></div>
										<p><%=result[i].description%> | <%=result[i].location%></p>
										<div class="more-info">
											<div class="info date-info">
												<div class="value"><%=result[i].day%></div>
												<div class="type">June</div>
											</div>
											<div class="info price-info">
												<div class="value"><%=result[i].price%></div>
												<div class="type">Rands</div>
											</div>
											<div class="info reg-info">
												<div class="value"><%=result[i].registrations.length%></div>
												<div class="type">Registrations</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							
							<div class="modal-inactive">
								<div class="details-wrapper">
									<span class="close-button">&#10005;</span>
									<div class="event-display" style="background-image: url('/uploads/<%=result[i].main%>');">
										<div class="description">
											<div class="desc-content">
												<div class="name"><%=result[i].title%></div>
												<p><%=result[i].description%> | <%=result[i].location%></p>
												<div class="more-info">
													<div class="info date-info">
														<div class="value"><%=result[i].day%></div>
														<div class="type">June</div>
													</div>
													<div class="info price-info">
														<div class="value"><%=result[i].price%></div>
														<div class="type">Rands</div>
													</div>
													<div class="info reg-info">
														<div class="value"><%=result[i].registrations.length%></div>
														<div class="type">Registrations</div>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="details-content">
										<div class="options">
											<p>Registrations</p>
											<p class="event-name"><%=result[i].title%></p>
											<span class="cancel-btn">
												Cancel Event
											</span>
										</div>
										<div class="list-registerd scroll">
											<ul>
											<% if(result[i].registrations.length == 0) {%>
												<div class="no-registrations">
													<p>No one has registered for the event yet</p>
												</div>
											<%}%>
											<% for ( let j = 0; j  < result[i].registrations.length; j++) { %>
												<li class="list-items">
													<%=result[i].registrations[j].name | result[i].registrations[j].email%>
												</li>
											<%}%>
											</ul>
										</div>
										<div class="btn-wrapper">
											<span class="download-btn">Download List</span>
										</div>
									</div>
								</div>
							</div>
						</div>
					<%}%>

						</div>
					</div>
					
				</div>
			</div>
		</div>
		<div class="modal-bg">
			<div class="modal">
				<span class="close-btn">&#10005;</span>
				<div class="form-container">
					<h2>Create Event</h2>
					<div class="field-wrapper">
						<form action="/011entertainment/events" method="POST" id="Form" class="Form" enctype="multipart/form-data">
							<div class="input-wrapper">
								<label for="Title">Title</label>
								<div class="input-container w300">
									<input type="text" name="title" placeholder="Bayfest" required>
								</div>
							</div>
							<div class="input-wrapper">
								<label for="Location">Location</label>
								<div class="input-container w300">
									<input type="text" name="location" placeholder="San Ridge Square" required>
								</div>
							</div>
							<div class="input-wrapper">
								<label for="Description">Description</label>
								<div class="text-container">
									<textarea name="description" placeholder="Elrico Marx PE Vibes" required></textarea>
								</div>
							</div>
							<div class="date-time">
								<div class="input-wrapper w100">
									<label for="Date">Date</label>
									<div class="input-container w100">
										<input type="text" name="date" placeholder="20 June 2020" required>
									</div>
								</div>
								<div class="input-wrapper w100">
									<label for="Time">Time</label>
									<div class="input-container w100">
										<input type="text" name="time" placeholder="20:00" required>
									</div>
								</div>
								<div class="input-wrapper w100">
									<label for="Price">Price</label>
									<div class="input-container w100">
										<input type="text" name="price" placeholder="R50" required>
									</div>
								</div>
							</div>
							<label>Display Images</label>
							<div class="date-time">
								<div class="input-wrapper w150">
									<div class="input-container w150 upload">
										<label class="custom-file-upload">
											Main Image
											<input type="file" name="main" required>
										</label>
									</div>
								</div>
								<div class="input-wrapper w150">
									<div class="input-container w150 upload">
										<label class="custom-file-upload">
											Display Image
											<input type="file" name="display" required>
										</label>
									</div>
								</div>
							</div>
							<div class="error">
								<p class="message"><%= typeof error != 'undefined' ? error : ''%></p>
							</div>
							<div class="btn-container">
								<button class="submit-btn">Create Event
								</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<footer></footer>
	</div>
	<script type="text/javascript" src="/scripts/events-page.js"></script>
	<script type="text/javascript" src="/scripts/admin-page.js"></script>
</body>
</html>